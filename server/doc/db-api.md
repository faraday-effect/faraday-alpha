# CRUD Operations

This design comes from the API generated by [Prisma](https://www.prisma.io/). 
Read the [documentation](https://www.prisma.io/docs/prisma-client/)
or see an example of
[generated sample code](https://github.com/nikolasburk/prisma-client-examples/blob/master/generated/prisma.ts).

These examples use a _lot_ of `interface` declarations that are created by Prisma
Refer to the generated code for details.

- Exists
  ```ts
  user: (where?: UserWhereInput) => Promise<boolean>
  ```
- Create
  ```ts
  createUser: (data: UserCreateInput) => User;

  upsertUser: (args: { where: UserWhereUniqueInput, 
                       create: UserCreateInput, 
                       update: UserUpdateInput }) => User;
  ```
- Read
  ```ts
  user: (where: UserWhereUniqueInput) => User;

  users: (args?: { where?: UserWhereInput, orderBy?: UserOrderByInput, 
                   skip?: Int, after?: String, before?: String, 
                   first?: Int, last?: Int }) => Promise<Array<UserNode>>;
  ```
- Update
  ```ts
  updateUser: (args: { data: UserUpdateInput, 
                       where: UserWhereUniqueInput }) => User;

  updateManyUsers: (args: { data: UserUpdateInput, 
                            where?: UserWhereInput }) => BatchPayload;
  ```
- Delete
  ```ts
  deleteUser: (where: UserWhereUniqueInput) => User;

  deleteManyUsers: (where?: UserWhereInput) => BatchPayload;
  ```

# Class-Specific Declarations

We use [`class-validator`](https://github.com/typestack/class-validator)
for validation.

## DB Entity and GraphQL Type

Both the TypeORM entity and the GraphQL type
are defined by the same (decorated) TypeScript class.

Decorations on class properties appear in the following order
(all are optional):
1. TypeORM Entity
2. GraphQL Type
3. Validators

```ts
@Entity("users")        // TypeORM entity
@ObjectType()           // GraphQL type
export Class User {
    // ...
}
```

# Input Objects
